# Rendering Pipeline

3차원의 가상 세계를 2차원의 이미지로 생성하는데 필요한 일련의 단계들을 렌더링 파이프라인(Rendering Pipeline)이라고 부른다.

## 그래픽스 파이프라인 과정

1. 입력 조립기
1. 버텍스 셰이더
1. 헐 셰이더
1. 테셀레이터
1. 도메인 셰이더
1. 지오메트리 셰이더
1. 레스터라이저
1. 픽셀 셰이더
1. 출력 병합기

## 입력 조립기(Input Assembler)

메모리에서 기하 자료(정점, 인덱스)를 읽어서 기본 도형을 조립한다.

### Primitive topology

정점들을 어떻게 엮어서 구조를 형성할 것인지 알려주는 수단이 Primitive topology이다. 정점을 두개 씩 엮어서 선분을 형성할 수도 있고, 세 개씩 엮어서 삼각형을 형성할 수도 있다. 거의 대부분 Trianglelist을 Primitive topology로 사용한다.

## 버텍스 셰이더(Vertex Shader)

### 로컬 스페이스

원점을 기준으로 얼마나 떨어진 위치에 Vertex가 있는지 나타낸 좌표 시스템

### 월드 스페이스

로컬 스페이스 좌표를 가진 하나의 도형을 월드 좌표에 배치
이때 물체의 TRS(이동, 회전, 변경)의 연산을 적용한 것이 월드 좌표가 된다
[스자이공부](./SRTRP.md)

### 뷰 스페이스

카메라를 원점기준으로 맞춰주면서 월드 좌펴에 있는 사물을 그에 맞게 이동하는 작업.

### 컬링

카메라에 보이지 않는 '면'을 제거하는 것
CCW를 이용하여 반시계 방향 순서로 이루어진 도형을 컬링
[컬링](./Culling.md)

### 조명

#### 빛의 종류

- Ambient: 환경광, 다른 표면에 반사되어서 빚추는 빛
- Diffuse: 특정한 방향으로 진행되며, 모든 방향으로 동일하게 반사되는 빛
- Specular: 특정 방향으로 강하게 반사되는 빛, 특정 각도에서만 보이는 빛(pow함수 이용)

#### 광원의 종류

- Point Light: 한 점에서 구 형태로 빛이 뻗어 나가는 광원
- Directional Light: 일정한 방향으로 모든 공간에 뻗어나가는 광원
- Spot Light: 손전등처럼 원뿔 모양으로 뻗어나가는 광원

### 클리핑

뷰 스페이스 안으로 들어오지 않는 오브젝트를 컬링하는 것

### 투영

n차원에서 n-1차원을 얻는 방법
이때 각 사물의 깊이를 얻으려면 원근투영을 사용
투영행렬을 거치면 모든 월드좌표는 -1과 1 사이의 값을 갖게 됨


### 뷰포트

프로젝트 윈도우 좌표를 화면 좌표로 바꾸어주는 역할

### 레스터 라이즈

화면을 출력할 때 필요한 픽셀을 계산하는 과정. 버텍스 셰이더로부터 전달 받은 정점들을 삼각형으로 구상하고 채워줘서


# Reference

[늑대발바닥/렌더링파이프라인](https://m.blog.naver.com/winterwolfs/10171439609)

[입코딩/렌더링파이프라인](https://lipcoder.tistory.com/112)
